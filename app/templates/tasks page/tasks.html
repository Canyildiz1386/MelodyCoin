<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tasks</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/tasks.css') }}">
    <link rel="icon" type="image/x-icon" href="{{ url_for('static', filename='favicon.ico') }}">
    <link href="https://fonts.googleapis.com/css2?family=Aldrich&display=swap" rel="stylesheet">
</head>
<body>
    <div class="nav">
        <div class="logo">
            <img src="{{ url_for('static', filename='img/_f3aced6d-129f-4ffe-9077-3f35cb33f860.jpeg') }}" alt="logo">
        </div>
    </div>
    <div class="main">
        <div class="background"></div>
        <div class="circle c1"></div>
        <div class="circle c2"></div>
        <div class="circle c3"></div>
        <div id="title"><span class="bot">TASKS</span></div>
        <p class="P">COMPLETE TASKS TO GET THESE REWARDS!</p>

        <div class="select">
            <div class="selec active" id="selec1" onclick="showTasks('active')">
                <span class="butt" id="butt1">ACTIVE TASKS</span>
            </div>
            <div class="selec" id="selec2" onclick="showTasks('completed')">
                <span class="butt" id="butt2">COMPLETED</span>
            </div>
        </div>

        <div id="task">
            <div id="activeTasks" class="task-list">
                {% for task in active_tasks %}
                    <div class="link">
                        <span><img src="{{ url_for('static', filename='img/telegram-logo-telegram-logo-transparent-telegram-icon-transparent-free-free-png 2.png') }}" alt=""></span>
                        <span class="txt">{{ task.title }}</span>
                        <span>
                            <a href="{{ url_for('tasks') }}" class="check" onclick="event.preventDefault(); document.getElementById('task-form-{{ task.id }}').submit();">CHECK</a>
                        </span>
                        <form id="task-form-{{ task.id }}" method="post" action="{{ url_for('tasks') }}" style="display: none;">
                            <input type="hidden" name="task_id" value="{{ task.id }}">
                        </form>
                    </div>
                {% endfor %}
            </div>

            <div id="completedTasks" class="task-list" style="display: none;">
                {% for task in completed_tasks %}
                    <div class="link completed">
                        <span><img src="{{ url_for('static', filename='img/telegram-logo-telegram-logo-transparent-telegram-icon-transparent-free-free-png 2.png') }}" alt=""></span>
                        <span class="txt">{{ task.title }}</span>
                        <span class="check">COMPLETED</span>
                    </div>
                {% endfor %}
            </div>
        </div>

        <br><br><br><br>
        {% include 'menu.html' %}
    </div>
    <script src="{{ url_for('static', filename='tasks/task.js') }}"></script>
    <script>
        function showTasks(type) {
            if (type === 'active') {
                document.getElementById('activeTasks').style.display = 'block';
                document.getElementById('completedTasks').style.display = 'none';
                document.getElementById('selec1').classList.add('active');
                document.getElementById('selec2').classList.remove('active');
            } else if (type === 'completed') {
                document.getElementById('activeTasks').style.display = 'none';
                document.getElementById('completedTasks').style.display = 'block';
                document.getElementById('selec1').classList.remove('active');
                document.getElementById('selec2').classList.add('active');
            }
        }
    </script>
</body>
</html>
